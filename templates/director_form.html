{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow-lg p-4">
            <h3 class="mb-4 fw-bold text-center text-dark-blue">
                {% if director %}<i class="fas fa-edit me-2"></i>Edit Director{% else %}<i
                    class="fas fa-user-plus me-2"></i>Add Director{% endif %}
            </h3>

            <form id="directorForm" method="POST" onsubmit="return confirmAction(event, 'directorForm')">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small fw-bold text-uppercase">Director Name</label>
                        <input type="text" name="name" class="form-control" required
                            value="{{ director.name if director else '' }}" placeholder="e.g. John Doe">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small fw-bold text-uppercase">Phone Number</label>
                        <input type="text" name="phone" class="form-control"
                            value="{{ director.phone if director else '' }}" placeholder="e.g. +1 234 567 890">
                    </div>
                    <div class="col-12 mb-4">
                        <label class="form-label text-muted small fw-bold text-uppercase">Bank Name</label>
                        <input type="text" name="bank_name" class="form-control"
                            value="{{ director.bank_name if director else '' }}" placeholder="e.g. Grameen Bank">
                    </div>
                </div>

                <h5 class="text-primary border-bottom pb-2 mb-3"><i class="fas fa-coins me-1"></i> Share Details</h5>

                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted small fw-bold">Total Share</label>
                        <input type="number" step="0.01" name="total_share" class="form-control"
                            value="{{ director.total_share if director else '' }}">
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted small fw-bold">Per Share Value</label>
                        <div class="input-group">
                            <span class="input-group-text">৳</span>
                            <input type="number" step="0.01" name="per_share_value" class="form-control"
                                value="{{ director.per_share_value if director else '' }}">
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted small fw-bold">Fair Cost</label>
                        <div class="input-group">
                            <span class="input-group-text">৳</span>
                            <input type="number" step="0.01" name="fair_cost" class="form-control"
                                value="{{ director.fair_cost if director else '' }}">
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted small fw-bold">Extra Land Value</label>
                        <div class="input-group">
                            <span class="input-group-text">৳</span>
                            <input type="number" step="0.01" name="land_value_extra_share" class="form-control"
                                value="{{ director.land_value_extra_share if director else '' }}">
                        </div>
                    </div>
                </div>

                <h5 class="text-primary border-bottom pb-2 mb-3 mt-2"><i class="fas fa-money-check-alt me-1"></i>
                    Payments</h5>

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label class="form-label text-muted small fw-bold">Date & Deposit History (Text)</label>
                        <textarea name="payment_history" class="form-control"
                            rows="3">{{ director.payment_history if director and director.payment_history else '' }}</textarea>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted small fw-bold">Total Paid So Far</label>
                        <div class="input-group">
                            <span class="input-group-text bg-success text-white">৳</span>
                            <input type="number" step="0.01" name="total_paid" class="form-control fw-bold text-success"
                                value="{{ director.total_paid if director else '' }}">
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted small fw-bold">Last Payment Date</label>
                        <input type="date" name="last_payment_date" class="form-control"
                            value="{{ director.last_payment_date if director else '' }}">
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label text-muted small fw-bold">Last Deposit Amount</label>
                        <div class="input-group">
                            <span class="input-group-text">৳</span>
                            <input type="number" step="0.01" name="last_payment_amount" class="form-control"
                                value="{{ director.last_payment_amount if director else '' }}">
                        </div>
                    </div>
                </div>



                <div class="d-grid gap-2 mt-4">
                    <button type="submit" class="btn btn-primary btn-lg shadow-sm">Save Director</button>
                    <a href="{{ url_for('main.index') }}" class="btn btn-light text-muted">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}